<!-- restaurantApply.html -->
<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <meta name="approval" content="approvalWrite"/>
        <title>RaFeed</title>
        <!-- 공통사용 -->
        <link rel="stylesheet" th:href="@{/css/reset.css}"/>
        <link rel="stylesheet" th:href="@{/css/common.css}"/>
        <!-- 각화면 css 생성하여 사용 -->
        <link rel="stylesheet" th:href="@{/css/approvalWrite.css}"/>
    </head>
    <body>
        <div id="wrapper">
            <!-- header(공통사용) -->
            <header id="header" th:replace="~{fragments/header :: header}"></header>

            <main id="main">
                <div id="approvalMain">
                    <div class="board-container">
                        <h2 class="board-title">식당신청</h2>

                        <div class="apply-card">
                            <form id="approvalWriteForm" enctype="multipart/form-data">

                                <div class="form-row">
                                    <label for="name">상호명</label>
                                    <input type="text" id="name" name="name" placeholder="상호명을 입력하세요" required/>
                                </div>

                                <div class="form-row">
                                    <label for="address">주소</label>
                                    <input type="text" id="address" name="address" placeholder="주소를 입력하세요" required/>
                                </div>

                                <div class="form-row">
                                    <label for="content">소개/메모</label>
                                    <textarea id="content" name="content" rows="5"
                                              placeholder="식당 소개나 추천 이유를 입력하세요"></textarea>
                                </div>

                                <!-- category1~8 UI는 유지하되, 전송은 categories[] 로 묶어서 보냄 -->
                                <div class="form-row">
                                    <label>카테고리</label>

                                    <div class="category-grid">
                                        <div class="category-field">
                                            <div class="category-label">지역</div>
                                            <select id="category1" name="category1" data-placeholder="지역 선택"></select>
                                        </div>

                                        <div class="category-field">
                                            <div class="category-label">분류</div>
                                            <select id="category2" name="category2" data-placeholder="분류 선택"></select>
                                        </div>

                                        <div class="category-field">
                                            <div class="category-label">모양</div>
                                            <select id="category3" name="category3" data-placeholder="모양 선택"></select>
                                        </div>

                                        <div class="category-field">
                                            <div class="category-label">두께</div>
                                            <select id="category4" name="category4" data-placeholder="두께 선택"></select>
                                        </div>

                                        <div class="category-field">
                                            <div class="category-label">스타일</div>
                                            <select id="category5" name="category5" data-placeholder="스타일 선택"></select>
                                        </div>

                                        <div class="category-field">
                                            <div class="category-label">종류</div>
                                            <select id="category6" name="category6" data-placeholder="종류 선택"></select>
                                        </div>

                                        <div class="category-field">
                                            <div class="category-label">진함</div>
                                            <select id="category7" name="category7" data-placeholder="진함 선택"></select>
                                        </div>

                                        <div class="category-field">
                                            <div class="category-label">농도</div>
                                            <select id="category8" name="category8" data-placeholder="농도 선택"></select>
                                        </div>
                                    </div>

                                    <small class="hint">선택하지 않은 항목은 비워두면 됩니다.</small>
                                </div>

                                <div class="form-row">
                                    <label>기존 이미지</label>
                                    <div id="existingImages" class="existing-images" aria-live="polite">
                                        <!-- 수정 화면에서 JS로 채움 -->
                                        <div class="hint">수정 화면에서 저장된 이미지를 불러옵니다.</div>
                                    </div>
                                    <small class="hint">※ 브라우저 보안 정책상, 기존 파일을 파일첨부(input)에 자동으로 채울 수 없습니다. 대신 여기에서 기존
                                        이미지를 확인/삭제/대표 지정하고, 아래에서 새 파일을 추가 업로드하세요.</small>
                                </div>

                                <div class="form-row">
                                    <label for="images">새 이미지 추가</label>
                                    <input type="file" id="images" name="images" multiple accept="image/*"/>
                                    <div id="newImagesPreview" class="new-images" aria-live="polite">
                                        <div class="hint">선택한 새 이미지는 아래에 미리보기로 표시됩니다. (저장 전)</div>
                                    </div>
                                    <small class="hint">여러 장 선택 가능 · 저장 전에는 브라우저에만 보이고, 저장하면 서버에 업로드됩니다.</small>
                                </div>

                                <div class="form-actions">
                                    <button type="submit" class="btn-primary" id="submitBtn">신청</button>
                                    <a href="/approval" class="btn-secondary">취소</a>
                                </div>

                            </form>
                        </div>
                    </div>
                </div>
            </main>

            <!-- footer영역(공통사용) -->
            <footer id="footer" th:replace="~{fragments/footer :: footer}"></footer>
        </div>

        <script th:src="@{/js/common.js}"></script>
        <script type="text/javascript">
            function googleTranslateElementInit() {
                new google.translate.TranslateElement(
                    {pageLanguage: 'ko', includedLanguages: 'en,ja,zh-CN,ko'},
                    'google_translate_element'
                );
            }
        </script>
        <script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
        <script th:src="@{/js/approvalWrite.js}"></script>
    </body>
</html>
